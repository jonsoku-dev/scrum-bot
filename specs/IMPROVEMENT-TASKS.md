# Scrum Bot 개선 태스크 백로그 (통합본)

- 작성일: 2026-02-13
- 통합 기준: `spec.md`, `specs/*.md`, `specs/IMPLEMENTATION-AUDIT.md`, 현재 테스트 결과
- 목적: “무엇을 개선할지”를 실행 단위(Task)로 분해하고 우선순위를 부여

---

## 0) 우선순위 기준

- **P0 (즉시)**: 장애/회귀/신뢰성 저하 위험이 높은 항목
- **P1 (단기)**: 사용자 가치가 크고 구현 난이도 중간
- **P2 (중기)**: 고도화/운영 성숙도 향상
- **P3 (장기)**: 최적화 및 확장

---

## 1) P0 — 안정화 스프린트 (이번 주)

### T-001. DraftService 테스트 실패 3건 복구
- 배경: 현재 전체 테스트에서 `draft.service.spec.ts` 3건 실패.
- 작업:
  1. `DraftNotFoundException` 메시지 정책 단일화(서비스/테스트 중 한쪽을 표준에 맞춤)
  2. `update/approve/reject` 경로의 예외 메시지 기대값 정리
  3. 회귀 테스트 재실행 및 실패 재발 방지 케이스 추가
- 완료 기준(DoD): `pnpm -C apps/bot test --runInBand` 100% pass.
- 산출물: 테스트 통과 로그 + 변경 PR

### T-002. API 에러 계약 표준화
- 배경: 컨트롤러별 예외 메시지/코드 일관성이 약함.
- 작업:
  1. `404/400/500` 응답 포맷 표준 JSON 스키마 정의
  2. 공통 Exception Filter에 에러 코드(`code`)와 `traceId` 포함
  3. Swagger 예시 응답 일괄 정리
- DoD: 주요 API(`summaries`, `drafts`, `decisions`)에서 동일한 에러 형식 반환.

### T-003. KPI 측정 계측 추가 (P95, 성공률)
- 배경: 로드맵의 핵심 KPI는 현재 저장소 기준 검증 불가.
- 작업:
  1. `/scrum` 명령 처리 시간 히스토그램(시작/종료) 수집
  2. Slack 수집 성공/실패 카운터 추가
  3. 최소 대시보드(로그 기반 또는 메트릭 엔드포인트) 구성
- DoD: “최근 24시간 성공률, P95 응답시간” 수치 확인 가능.

---

## 2) P1 — 제품 완성도 향상 (2~3주)

### T-101. 승인(HITL) UX 개선
- 작업:
  1. Slack 승인 카드에 “요약 diff/핵심 변경점” 표시
  2. 승인 만료(Expired) 사유/재시도 버튼 제공
  3. 대시보드 `approvals` 화면에 필터(대기/만료/거절) 추가
- DoD: 승인 처리 시간 단축(운영 측정), 사용자 클릭 동선 감소.

### T-102. Jira 연동 신뢰성 강화
- 작업:
  1. `create/update/transition` 재시도 정책 및 멱등 키 정교화
  2. `jira_sync_log`에 실패 타입(인증/권한/검증/레이트리밋) 분류 저장
  3. 실패 건 재처리 Job(수동/자동) 추가
- DoD: Jira 일시 실패 복구율 향상, 수동 재처리 가능.

### T-103. 결정 감지 품질 개선
- 작업:
  1. 키워드+리액션 규칙의 precision/recall 측정용 샘플셋 구축
  2. 오탐/미탐 패턴 규칙 업데이트
  3. 임계치(channel-policy) 채널별 설정 노출
- DoD: 골든셋 기준 F1 점수 개선.

### T-104. 요약/초안 평가 루프 고도화
- 작업:
  1. `EvalService` 점수 기준 문서화 및 가중치 조정
  2. 점수 하락 시 경고(회귀 감지) 자동화
  3. 주간 품질 리포트 생성
- DoD: 릴리즈 전 회귀 자동 감지 가능.

---

## 3) P2 — 멀티에이전트 고도화 (한 달)

### T-201. 컨텍스트 게이팅 정밀화
- 작업:
  1. context 부족/예산 초과 시 degrade 시나리오 세분화
  2. “근거 부족” 상태에서 안전한 출력 템플릿 적용
  3. 컨텍스트 품질 점수(출처 신뢰도+최신성) 도입
- DoD: 잘못된 확신(hallucination-like output) 감소.

### T-202. Conflict Detect 설명가능성 강화
- 작업:
  1. 충돌 판정 근거(citation, 규칙) 명시
  2. 충돌 심각도 레벨링(low/med/high)
  3. Slack/대시보드에 충돌 해결 가이드 제공
- DoD: 충돌 알림의 actionable 비율 향상.

### T-203. 결정 이력 그래프(대체 관계) 시각화
- 작업:
  1. `decision.supersededBy` 체인 UI 표현
  2. “현재 유효 결정” 자동 표시
  3. 영향 영역(impactArea) 필터링
- DoD: 과거 결정 추적 시간 단축.

---

## 4) P3 — 운영 성숙/보안/비용 최적화 (지속)

### T-301. OTel 기반 운영 대시보드 완성
- 작업:
  1. 핵심 span 템플릿 표준화(ingest/summarize/review/jira)
  2. 실패율/지연/재시도 대시보드 구성
  3. 알람 룰(SLO breach) 적용
- DoD: 장애 조기 감지 및 원인 추적 시간 단축.

### T-302. 보안 강화 (OAuth/RBAC 세분화)
- 작업:
  1. Jira OAuth 2.0 전환 계획 수립 및 PoC
  2. Role별 API 접근 행렬 문서화 및 정책 테스트
  3. 감사로그 민감정보 마스킹 검증
- DoD: 권한 오남용 리스크 감소.

### T-303. 비용 기반 동적 모델 라우팅
- 작업:
  1. 모델별 단가/품질 프로파일 테이블화
  2. 예산 임계치별 자동 모델 전환 정책
  3. 품질 저하 가드레일(최저 점수 미만 재시도) 적용
- DoD: 예산 초과율 감소 + 품질 하한 유지.

---

## 5) 공통 엔지니어링 태스크

### T-401. 문서 상태 동기화
- 작업:
  1. 구현 완료 영역 문서 상태(Draft → Reviewed/Final) 갱신
  2. 코드-문서 불일치 점검 체크리스트 PR 템플릿 반영
- DoD: 문서 신뢰도 향상.

### T-402. 테스트 파이프라인 정책 정비
- 작업:
  1. CI에서 unit/integration/e2e 분리 실행
  2. 실패 허용 없는 main 보호 규칙 적용
  3. flaky 테스트 탐지/격리 프로세스 수립
- DoD: 릴리즈 안정성 향상.

### T-403. 백로그 운영 룰
- 작업:
  1. 각 Task에 Owner/ETA/의존성/리스크 필드 추가
  2. 1주 단위 리뷰(완료/지연/스코프 변경) 고정
- DoD: 실행률(완료율) 가시화.

---

## 6) 추천 실행 순서

1. **1주차**: T-001, T-002, T-003
2. **2~3주차**: T-101, T-102, T-103, T-104
3. **4주차+**: T-201, T-202, T-203
4. **상시**: T-301, T-302, T-303, T-401~403

---

## 7) 스프린트 시작용 “즉시 실행 5개”

- [ ] T-001 DraftService 테스트 실패 3건 복구
- [ ] T-003 KPI 계측(P95/성공률) 최소 구현
- [ ] T-002 API 에러 계약 표준 스키마 확정
- [ ] T-102 Jira 실패 재처리 Job 설계
- [ ] T-401 문서 상태 동기화 PR 1건 생성

